{"version":3,"file":"chatformatter.js","sourceRoot":"","sources":["../src/chatformatter.ts"],"names":[],"mappings":"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"}